<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate">
    <title>ÙƒÙˆÙŠØ² Ø§Ù„Ø±Ù…Ø¶Ø§Ù†ÙŠ | Ø¯Ø®ÙˆÙ„</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');
        
        body { 
            background-color: #050a15; 
            color: white; 
            font-family: 'Cairo', sans-serif; 
            background-image: url('https://www.transparenttextures.com/patterns/islamic-art.png'); 
            overflow-x: hidden;
            margin: 0;
        }

        .ramadan-card { 
            background: rgba(13, 27, 42, 0.9); 
            border: 1px solid #b8860b; 
            backdrop-filter: blur(10px); 
        }
        
        /* ============================== */
        /* Ø³ØªØ§ÙŠÙ„ Ø§Ù„ÙÙˆØ§Ù†ÙŠØ³ Ø§Ù„Ø´ÙØ§ÙØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
        /* ============================== */
        .hanging-fanoos {
            position: fixed;
            top: -50px; /* Ù…Ø±ÙÙˆØ¹ Ù„ÙÙˆÙ‚ Ø¹Ø´Ø§Ù† Ø§Ù„Ø³Ù„Ø³Ù„Ø© ØªØ¨Ø§Ù† */
            z-index: 10;
            width: 90px; /* Ø­Ø¬Ù… Ù…Ù†Ø§Ø³Ø¨ */
            pointer-events: none;
            /* Ø§Ø³ØªØ®Ø¯Ø§Ù… filter Ø¨Ø¯Ù„ box-shadow Ø¹Ø´Ø§Ù† Ø§Ù„ÙˆÙ‡Ø¬ ÙŠÙ…Ø´ÙŠ Ù…Ø¹ Ø´ÙƒÙ„ Ø§Ù„ÙØ§Ù†ÙˆØ³ Ø§Ù„Ø´ÙØ§Ù */
            filter: drop-shadow(0 10px 10px rgba(255, 215, 0, 0.3));
            animation: sway 4s ease-in-out infinite alternate; /* Ø­Ø±ÙƒØ© Ø£Ø¨Ø·Ø£ ÙˆØ£ÙƒØ«Ø± ÙˆØ§Ù‚Ø¹ÙŠØ© */
        }

        .fanoos-left { left: 10px; animation-delay: 0s; transform-origin: top center; }
        .fanoos-right { right: 10px; animation-delay: 2s; transform-origin: top center; }

        @media (min-width: 768px) {
           .hanging-fanoos { width: 130px; top: -70px; }
           .fanoos-left { left: 40px; }
           .fanoos-right { right: 40px; }
        }

        /* Ø§Ù†ÙŠÙ…ÙŠØ´Ù† Ø§Ù„Ù…Ø±Ø¬Ø­Ø© */
        @keyframes sway {
            from { transform: rotate(-4deg); }
            to { transform: rotate(4deg); }
        }

        .main-logo {
            filter: drop-shadow(0 0 15px rgba(184, 134, 11, 0.5));
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4 relative">

    <img src="https://i.postimg.cc/mkZhgBgF/fanoos-gold-trans.png" class="hanging-fanoos fanoos-left" alt="ÙØ§Ù†ÙˆØ³ Ø±Ù…Ø¶Ø§Ù†">
    <img src="https://i.postimg.cc/mkZhgBgF/fanoos-gold-trans.png" class="hanging-fanoos fanoos-right" alt="ÙØ§Ù†ÙˆØ³ Ø±Ù…Ø¶Ø§Ù†">

    <div class="relative z-20 flex flex-col items-center w-full max-w-sm mt-10">
        
        <img src="https://i.postimg.cc/9Fpp5TVC/IMG-20260217-031514.png" class="main-logo w-36 h-36 object-contain mb-6 rounded-full border-4 border-yellow-600">

        <div class="ramadan-card p-6 rounded-2xl text-center mb-8 w-full border-r-4 border-yellow-500 shadow-2xl">
            <p class="text-yellow-400 text-[10px] mb-2 font-bold uppercase tracking-widest">Ø±Ø³Ø§Ù„Ø© Ø§Ù„ÙŠÙˆÙ… âœ¨</p>
            <p class="text-md font-bold leading-relaxed text-gray-100" id="daily-message">ğŸŒ™ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨Ø±ÙƒØ§Øª Ø§Ù„ÙŠÙˆÙ…...</p>
        </div>

        <div class="ramadan-card p-8 rounded-3xl shadow-2xl w-full text-center border-t-4 border-yellow-600">
            <h2 class="text-xl font-bold mb-6 text-yellow-500">Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ù„Ù„Ù…Ù†Ø§ÙØ³Ø©</h2>
            <input type="password" id="password-input" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø®ÙˆÙ„" 
                   class="w-full p-4 rounded-xl bg-gray-900 border border-gray-700 text-center text-white mb-4 focus:outline-none focus:border-yellow-500 font-bold tracking-widest text-lg transition shadow-inner">
            <button id="login-btn" class="w-full bg-gradient-to-r from-yellow-600 to-yellow-700 hover:from-yellow-500 hover:to-yellow-600 text-white font-bold py-4 rounded-xl transition shadow-lg text-lg transform active:scale-95">
                Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©
            </button>
            <p id="error-msg" class="text-red-400 mt-4 hidden text-xs font-bold bg-red-900/20 py-2 rounded-lg border border-red-900/50">
                <i class="fas fa-exclamation-circle ml-1"></i> ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­!
            </p>
        </div>

        <div class="flex mt-10 gap-8">
            <a href="https://www.facebook.com/share/1GmFwuYWZv/" target="_blank" class="hover:scale-125 transition duration-300"><img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" class="w-7 h-7"></a>
            <a href="https://chat.whatsapp.com/D5dKR9EdHZjDPgrFpHl28J" target="_blank" class="hover:scale-125 transition duration-300"><img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" class="w-7 h-7"></a>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getFirestore, collection, getDocs, query, where, doc, getDoc, initializeFirestore, persistentLocalCache } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const firebaseConfig = { apiKey: "AIzaSyBZMnIJ_IOqeAfXqFt-m4tM1Lvo0tUDnk8", projectId: "ramadan-87817", appId: "1:343525703258:web:6776b4857425df8bcca263" };
        const app = initializeApp(firebaseConfig);
        const db = initializeFirestore(app, { localCache: persistentLocalCache() });

        async function fetchMessage() {
            try {
                const docSnap = await getDoc(doc(db, "settings", "dailyData"));
                if (docSnap.exists()) document.getElementById('daily-message').innerText = docSnap.data().message;
            } catch(e) { document.getElementById('daily-message').innerText = "Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ…! Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ­Ø¯ÙŠØŸ"; }
        }
        fetchMessage();

        window.onload = () => {
            const saved = localStorage.getItem('userSecretCode');
            if (saved) document.getElementById('password-input').value = saved;
        };

        document.getElementById('login-btn').addEventListener('click', async () => {
            const pass = document.getElementById('password-input').value;
            const btn = document.getElementById('login-btn');
            const err = document.getElementById('error-msg');
            if(!pass) return;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>'; btn.disabled = true; err.classList.add('hidden');
            try {
                const q = query(collection(db, "users"), where("password", "==", pass));
                const snap = await getDocs(q);
                if (!snap.empty) {
                    snap.forEach((doc) => {
                        localStorage.setItem('currentUser', JSON.stringify({id: doc.id, ...doc.data()}));
                        localStorage.setItem('userSecretCode', pass);
                    });
                    window.location.href = "dashboard.html";
                } else {
                    err.classList.remove('hidden'); btn.innerText = "Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©"; btn.disabled = false;
                }
            } catch (e) { alert("Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©!"); btn.disabled = false; }
        });
    </script>
</body>
</html>
    
